(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{403:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(56),o=a.n(i),s=a(4),c=a(6),d=a(469),l=a(20),u=a(470),b=a(471),p=a(472),m=a(118),j=a.n(m),h=a(81),x=a.n(h),g=a(199),O=a.n(g),f=a(200),w=a.n(f),v=a(62),y=a(1),k=Object(c.a)(d.a,{name:"tour-card"})((function(e){return{width:"100%",maxWidth:"320px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",boxShadow:e.theme.shadows[4],borderRadius:"0.5rem",position:"relative",zIndex:0,overflow:"hidden"}})),C=(Object(c.a)(u.a,{name:"tour-card-skeleton"})((function(e){return{width:"100%",maxWidth:"320px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",boxShadow:e.theme.shadows[4],borderRadius:"0.5rem",position:"relative",zIndex:0,overflow:"hidden"}})),Object(c.a)(d.a,{name:"tour-card-header"})((function(e){return{position:"relative",width:"100%",height:"13.75rem",backgroundColor:e.theme.palette.common.white}}))),S=Object(c.a)(d.a,{name:"tour-card-header-pic-container"})((function(e){e.theme;return{position:"relative",clipPath:"polygon(0 0, 100% 0%, 100% 83%, 0% 100%)",height:"100%",zIndex:1}})),I=Object(c.a)("figure",{name:"tour-card-header-pic"})((function(e){e.theme;var t=e.src;return{margin:0,width:"100%",height:"100%",objectFit:"cover",backgroundImage:"url(https://www.natours.dev/img/tours/".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}})),T=Object(c.a)(d.a,{name:"tour-card-header-pic-overlay"})((function(e){e.theme;return{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(120deg, rgba(0,0,0,0.6) 4.58%, rgba(0,0,0,0) 69.61%),linear-gradient(24.5deg, rgba(0,0,0,0.2) 4.71%, rgba(0,0,0,0) 71.49%)"}})),D=Object(c.a)(d.a,{name:"tour-card-title"})((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({},t.typography.h6),{},{width:"100%",padding:"0.75rem 1.5rem",display:"flex",alignItems:"center",justifyContent:"center",textTransform:"uppercase",backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",color:t.palette.common.white,whiteSpace:"nowrap"})})),W=Object(c.a)(d.a,{name:"tour-card-details"})((function(e){return{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.75rem 2rem",padding:"1.75rem 2rem",backgroundColor:e.theme.palette.common.white}})),z=Object(c.a)(d.a,{name:"tour-card-subheading"})((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({},t.typography.body),{},{fontWeight:700,textTransform:"uppercase",textAlign:"center",gridColumn:"1 / -1"})})),R=Object(c.a)(d.a,{name:"tour-card-text"})((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({},t.typography.subtitle1),{},{fontStyle:"italic",gridColumn:"1 / -1"})})),B=Object(c.a)(d.a,{name:"tour-card-data"})((function(e){e.theme;return{display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"}})),P=Object(c.a)(d.a,{name:"tour-card-footer"})((function(e){e.theme;return{width:"100%",backgroundColor:"#f1f1f1",padding:"1rem 2rem",borderTop:"1px solid #f1f1f1",display:"grid",gridTemplateColumns:"auto 1fr",gap:"0 1rem"}})),Y=Object(c.a)(b.a,{name:"tour-card-detail-button"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),Object(l.a)(Object(l.a)({},t.typography.subtitle1),{},{padding:"0.5rem 1rem",backgroundColor:"#55c57a",color:t.palette.common.white,borderRadius:"30rem",transition:"".concat(t.transitions.create(["transform","boxShadow"],{duration:t.transitions.duration.standard})),"&:hover":{backgroundColor:t.palette.success.light,transform:"translateY(-3px)",boxShadow:t.shadows[1]}}))})),A=function(e){var t=e.value,a=t.name,r=t.summary,n=t.ratingsAverage,i=t.ratingsQuantity,o=t.price,s=t.maxGroupSize,c=t.locations,l=t.imageCover,u=t.difficulty,b=t.duration,m=t.startLocation.description,h=t.startDates,g=t.slug;return Object(y.jsxs)(k,{children:[Object(y.jsx)(D,{children:a}),Object(y.jsx)(C,{children:Object(y.jsxs)(S,{children:[Object(y.jsx)(T,{}),Object(y.jsx)(I,{src:l})]})}),Object(y.jsxs)(W,{children:[Object(y.jsxs)(z,{children:[u," ",b,"-day tour"]}),Object(y.jsx)(R,{children:r}),Object(y.jsxs)(B,{children:[Object(y.jsx)(x.a,{sx:{fill:"#55c57a"}}),Object(y.jsx)(p.a,{variant:"subtitle2",component:"span",children:m})]}),Object(y.jsxs)(B,{children:[Object(y.jsx)(j.a,{sx:{fill:"#55c57a"}}),Object(y.jsxs)(p.a,{variant:"subtitle2",component:"span",children:[new Date(h[0]).getFullYear(),".",new Date(h[0]).getMonth(),".",new Date(h[0]).getDate()]})]}),Object(y.jsxs)(B,{children:[Object(y.jsx)(O.a,{sx:{fill:"#55c57a"}}),Object(y.jsxs)(p.a,{variant:"subtitle2",component:"span",children:[c.length," stops"]})]}),Object(y.jsxs)(B,{children:[Object(y.jsx)(w.a,{sx:{fill:"#55c57a"}}),Object(y.jsxs)(p.a,{variant:"subtitle2",component:"span",children:[s," people"]})]})]}),Object(y.jsxs)(P,{children:[Object(y.jsxs)(d.a,{sx:{display:"grid",gridTemplateColumns:"2.5rem 1fr",gridTemplateRows:"2rem",alignItems:"center",gap:"0 8px",gridRow:"1/2"},children:[Object(y.jsxs)(z,{sx:{gridColumn:"1/2",textAlign:"right"},children:["$",o]}),Object(y.jsx)(R,{sx:{margin:0,fontStyle:"normal",gridColumn:"2/3"},children:"per person"})]}),Object(y.jsxs)(d.a,{sx:{display:"grid",gridTemplateColumns:"2.5rem 1fr",gridTemplateRows:"2rem",alignItems:"center",gap:"0 8px",gridRow:" 2 / 3"},children:[Object(y.jsx)(z,{sx:{gridColumn:"1/2",textAlign:"right"},children:n}),Object(y.jsxs)(R,{sx:{margin:0,fontStyle:"normal",gridColumn:"2/3"},children:["rating(",i,")"]})]}),Object(y.jsx)(d.a,{sx:{gridRow:"1/3",justifySelf:"end",alignSelf:"center"},children:Object(y.jsx)(Y,{component:v.b,to:"/".concat(g),children:"Details"})})]})]})},E=a(202),q=a(38),M=Object(E.a)({reducerPath:"natoursApi",baseQuery:Object(q.d)({baseUrl:"https://jonas-natour.herokuapp.com/api/v1/"}),tagTypes:["Tour","User","Comment","Booking","Review"],endpoints:function(e){return{getAllTours:e.query({query:function(){return{url:"tours",headers:{"Content-Type":"application/json"}}},providesTags:["Tour"],transformResponse:function(e){return e.data.data}}),getAllReviewFromATour:e.query({query:function(e){return{url:"tours/".concat(e,"/reviews")}},transformResponse:function(e){return e.data.data}}),login:e.query({query:function(e){return{url:"users/login",method:"POST",body:{email:e.email,password:e.password}}}}),signUp:e.mutation({query:function(e){return{url:"users/signup",method:"POST",body:{name:e.name,email:e.email,password:e.password,passwordConfirm:e.passwordConfirm}}}}),bookTour:e.mutation({query:function(e){var t=e.id,a=e.token;return{url:"bookings/checkout-session/".concat(t),headers:{authorization:"Bearer ".concat(a)}}}})}}}),L=M.useGetAllToursQuery,F=M.useGetAllReviewFromATourQuery,U=M.useLoginQuery,H=M.useSignUpMutation,G=M.useBookTourMutation,Q=Object(c.a)(u.a,{name:"tour-card-skeleton"})((function(e){return{width:"100%",maxWidth:"320px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",boxShadow:e.theme.shadows[4],borderRadius:"0.5rem",position:"relative",zIndex:0,overflow:"hidden",transform:"scale(1)"}})),X=Object(c.a)(d.a,{name:"tour-card-title-skeleton"})((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({},t.typography.h6),{},{width:"100%",height:"3.5rem"})})),_=Object(c.a)(d.a,{name:"tour-card-header-skeleton"})((function(e){e.theme;return{position:"relative",width:"100%",height:"13.75rem"}})),J=Object(c.a)(d.a,{name:"tour-card-details-skeleton"})((function(e){e.theme;return{position:"relative",width:"100%",height:"16.75rem"}})),N=Object(c.a)(d.a,{name:"tour-card-footer-skeleton"})((function(e){e.theme;return{position:"relative",width:"100%",height:"6.0625rem"}})),V=function(){return Object(y.jsxs)(Q,{children:[Object(y.jsx)(X,{}),Object(y.jsx)(_,{}),Object(y.jsx)(J,{}),Object(y.jsx)(N,{})]})},Z=Object(c.a)(d.a,{name:"home-section-container"})((function(e){e.theme;return{backgroundColor:"#f7f7f7",width:"100%"}})),$=Object(c.a)(d.a,{name:"home-section-layOut-container"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"100%",height:"100%",padding:"2rem 1rem ",display:"flex",justifyContent:"center"}),Object(s.a)(t,a.breakpoints.up("sm"),{maxWidth:"764px",padding:"1.5rem 0",margin:"0 auto"}),Object(s.a)(t,a.breakpoints.up("md"),{maxWidth:"960px",padding:"1.5rem 0"}),Object(s.a)(t,a.breakpoints.up("lg"),{maxWidth:"1080px",padding:"2rem 0"}),t})),K=Object(c.a)(d.a,{name:"home-section-layOut"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{display:"grid",gridTemplateColumns:"minmax(min-content,320px)",gap:"3rem 0"}),Object(s.a)(t,a.breakpoints.up("sm"),{display:"grid",gridTemplateColumns:"repeat(2,320px)",gap:"2.5rem 2.5rem"}),Object(s.a)(t,a.breakpoints.up("md"),{display:"grid",gridTemplateColumns:"repeat(2,320px)",gap:"3.75rem 3.75rem"}),Object(s.a)(t,a.breakpoints.up("lg"),{display:"grid",gridTemplateColumns:"repeat(3,320px)",gap:"3.75rem 3.75rem"}),t})),ee=function(){var e=L(),t=e.data,a=void 0===t?[]:t;return e.isLoading?Object(y.jsx)(Z,{component:"section",children:Object(y.jsx)($,{children:Object(y.jsxs)(K,{children:[Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"}),Object(y.jsx)(V,{component:"div"})]})})}):Object(y.jsx)(Z,{component:"section",children:Object(y.jsx)($,{children:Object(y.jsx)(K,{children:a.map((function(e){return Object(y.jsx)(A,{value:e},e.id)}))})})})},te=a(22),ae=a(455),re=a(456),ne=a(477),ie=a(478),oe=a(24),se=a(8),ce=a(468),de=a(473),le=a(459),ue=a(474),be=a(466),pe=a(454),me=a(475),je=a(476),he=a(203),xe=a.n(he),ge=a(206),Oe=a.n(ge),fe=a(204),we=a.n(fe),ve=a(207),ye=a.n(ve),ke=a(205),Ce=a.n(ke),Se=Object(c.a)(d.a,{name:"user-box"})((function(e){var t=e.theme;return{width:"175px",height:"48px",marginLeft:"auto",display:"flex",alignItems:"center",justifyContent:"flex-start",boxShadow:t.shadows[0],border:"1px solid ".concat(t.palette.grey[300]),borderRadius:t.spacing(1),gap:t.spacing(2),"&:hover":{boxShadow:t.shadows[1]},"& > svg":{margin:"0 16px 0 auto"}}})),Ie=Object(c.a)(ce.a,{name:"header-avatar"})((function(e){var t=e.theme;return{width:t.spacing(4),height:t.spacing(4),margin:t.spacing(0,0,0,1)}})),Te=Object(c.a)(de.a,{name:"popper-inner"})((function(e){return{width:"175px",padding:e.theme.spacing(1)}})),De=function(e){var t=e.user,a=t.photo,r=t.name,i=n.a.useState(null),o=Object(se.a)(i,2),s=o[0],c=o[1],d=Boolean(s),l=d?"userbox-popper":void 0;return Object(y.jsxs)(n.a.Fragment,{children:[Object(y.jsxs)(Se,{onClick:function(e){c(s?null:e.currentTarget)},"aria-describedby":l,children:[Object(y.jsx)(Ie,{src:a,alt:"user-photo"}),Object(y.jsx)(p.a,{variant:"body2",children:r}),Object(y.jsx)(xe.a,{})]}),Object(y.jsx)(le.a,{id:l,open:d,anchorEl:s,placement:"bottom",disablePortal:!0,children:Object(y.jsxs)(Te,{children:[Object(y.jsx)(p.a,{variant:"body2",sx:{color:"grey.700",margin:"8px 16px 0 16px"},children:"My Stuff"}),Object(y.jsxs)(ue.a,{children:[Object(y.jsx)(be.a,{disablePadding:!0,children:Object(y.jsxs)(pe.a,{children:[Object(y.jsx)(me.a,{sx:{minWidth:"40px"},children:Object(y.jsx)(we.a,{})}),Object(y.jsx)(je.a,{primary:"Proflie"})]})}),Object(y.jsx)(be.a,{disablePadding:!0,children:Object(y.jsxs)(pe.a,{children:[Object(y.jsx)(me.a,{sx:{minWidth:"40px"},children:Object(y.jsx)(Ce.a,{})}),Object(y.jsx)(je.a,{primary:"Settings"})]})}),Object(y.jsx)(be.a,{disablePadding:!0,children:Object(y.jsxs)(pe.a,{children:[Object(y.jsx)(me.a,{sx:{minWidth:"40px"},children:Object(y.jsx)(Oe.a,{})}),Object(y.jsx)(je.a,{primary:"My orders"})]})}),Object(y.jsx)(be.a,{disablePadding:!0,children:Object(y.jsxs)(pe.a,{children:[Object(y.jsx)(me.a,{sx:{minWidth:"40px"},children:Object(y.jsx)(ye.a,{})}),Object(y.jsx)(je.a,{primary:"log out"})]})})]})]})})]})};function We(e){var t=e.children,a=e.window,n=Object(ae.a)({disableHysteresis:!0,threshold:0,target:a?a():void 0});return r.cloneElement(t,{elevation:n?4:0})}var ze=Object(c.a)(p.a,{name:"appbar-brand-name"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{display:"none"}),Object(s.a)(t,a.breakpoints.up("sm"),{display:"block",backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",backgroundClip:"text",color:"transparent",cursor:"pointer"}),t})),Re=Object(c.a)(d.a,{name:"natour-logo"})((function(e){e.theme;return{cursor:"pointer",margin:"0 8px 0 0 ",width:"46.8px",height:"24px",backgroundImage:"url(./logo-white.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",filter:"invert(59%) sepia(96%) saturate(296%) hue-rotate(87deg) brightness(97%) contrast(89%)"}})),Be=Object(c.a)(d.a,{name:"button-container"})((function(e){e.theme;return{display:"flex",alignItems:"center",gap:"8px",marginLeft:"auto"}})),Pe=Object(c.a)(b.a,{name:"headr-button"})((function(e){var t=e.theme;return{backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",backgroundClip:"text",whiteSpace:"nowrap",color:"transparent",border:"1px solid #28b487",transition:"".concat(t.transitions.create(["transform","boxShadow"],{duration:t.transitions.duration.standard})),"&:hover":{border:"1px solid #28b487",transform:"scale(0.98)",boxShadow:t.shadows[2]}}})),Ye=function(e){var t=Object(oe.e)((function(e){return e.auth})).user;return Object(y.jsxs)(r.Fragment,{children:[Object(y.jsx)(re.a,{}),Object(y.jsx)(We,Object(l.a)(Object(l.a)({},e),{},{children:Object(y.jsx)(ne.a,{color:"inherit",children:Object(y.jsxs)(ie.a,{children:[Object(y.jsx)(Re,{component:v.b,to:"/"}),Object(y.jsx)(ze,{variant:"h6",component:v.b,to:"/",children:"Natours"}),t?Object(y.jsx)(De,{user:t}):Object(y.jsxs)(Be,{children:[Object(y.jsx)(Pe,{component:v.b,variant:"outlined",to:"/login",children:"log in"}),Object(y.jsx)(Pe,{component:v.b,variant:"outlined",to:"/signup",children:"sign up"})]})]})})})),Object(y.jsx)(ie.a,{})]})},Ae=a(126),Ee=a(460),qe=a(479),Me=a(463),Le=a(462),Fe=a(481),Ue=a(480),He=a(95),Ge=a.n(He),Qe=a(94),Xe=a.n(Qe),_e=a(123),Je=a(59),Ne=a(15),Ve=Object(Ne.d)({name:"auth",initialState:{user:null,token:null},reducers:{setCredentials:function(e,t){var a=t.payload,r=a.user,n=a.token,i=r.name,o=r.role,s=r._id,c=r.email,d=r.photo;e.user={name:i,role:o,email:c,_id:s,photo:d},e.token=n}}}),Ze=Ve.actions.setCredentials,$e=Ve.reducer,Ke=Object(c.a)(d.a,{name:"login-form-container"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{width:"100%",maxWidth:"35rem",backgroundColor:t.palette.common.white,borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"1rem",margin:"0 auto",padding:"3.125rem 4.375rem"})})),et=Object(c.a)(p.a,{name:"login-title"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{display:"block",backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",backgroundClip:"text",color:"transparent",cursor:"pointer",textTransform:"uppercase"})})),tt=Object(c.a)((function(e){return Object(y.jsx)(Ee.a,Object(l.a)({InputProps:{disableUnderline:!0}},e))}))((function(e){var t=e.theme;return{"& .MuiFilledInput-root":{border:"1px solid #e2e2e1",overflow:"hidden",borderRadius:4,backgroundColor:"light"===t.palette.mode?"#fcfcfb":"#2b2b2b",transition:t.transitions.create(["border-color","background-color","box-shadow"]),"&:hover":{backgroundColor:"transparent"},"&.Mui-focused":{backgroundColor:"transparent",boxShadow:"".concat(Object(Ae.a)(t.palette.primary.main,.25)," 0 0 0 2px"),borderColor:t.palette.primary.main}}}})),at=Object(c.a)(b.a,{name:"login-button"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),Object(l.a)(Object(l.a)({},t.typography.body2),{},{padding:"0.5rem 1rem",backgroundColor:"#55c57a",color:t.palette.common.white,borderRadius:"30rem",transition:"".concat(t.transitions.create(["transform","boxShadow"],{duration:t.transitions.duration.standard})),"&:hover":{backgroundColor:t.palette.success.light,transform:"translateY(-3px)",boxShadow:t.shadows[1]},"&.Mui-disabled":{backgroundColor:t.palette.success.light,transform:"translateY(-3px)",boxShadow:t.shadows[1],opacity:.6,color:t.palette.common.white}}))})),rt=Je.a({name:Je.b("Enter your name").min(3,"user must have a name").max(15,"name should be less than 15 characters").required("user must have a name"),email:Je.b("Enter your email").email("Enter a valid email").required("Email is required"),password:Je.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required"),passwordConfirm:Je.b("Enter your confirm password").min(8,"Password should be of minimum 8 characters length").required("Confirm Password is required")}),nt=function(){Object(r.useEffect)((function(){document.title="natour | signup"}));var e=Object(oe.d)(),t=Object(te.f)(),a=Object(r.useState)(!0),n=Object(se.a)(a,2),i=n[0],o=n[1],s=function(){o((function(e){return!e}))},c=function(e){e.preventDefault()},d=Object(_e.a)({initialValues:{name:"",email:"",password:"",passwordConfirm:""},validationSchema:rt,onSubmit:function(e){var t=e.name,a=e.email,r=e.password,n=e.passwordConfirm;p({name:t,email:a,password:r,passwordConfirm:n})},validate:function(){return d.values.password!==d.values.passwordConfirm?{passwordConfirm:"confirm password and password are not the same"}:void 0}}),l=d.dirty&&d.isValid,u=H(),b=Object(se.a)(u,2),p=b[0],m=b[1],j=m.data,h=m.isSuccess,x=m.isError,g=m.isLoading;if(h){var O=j.token,f=j.data.user;e(Ze({token:O,user:f})),setTimeout((function(){return t.push("/")}),1e3)}return Object(y.jsx)(qe.a,{maxWidth:"sm",sx:{backgroundColor:"#f7f7f7",padding:"3.5rem 1rem",height:"100vh"},children:Object(y.jsxs)(Ke,{children:[h&&Object(y.jsx)(Me.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:h,autoHideDuration:600,children:Object(y.jsx)(Le.a,{variant:"filled",severity:"success",sx:{boxShadow:6},children:"Successfully sign up!"})}),x&&Object(y.jsx)(Me.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:x,autoHideDuration:600,children:Object(y.jsx)(Le.a,{variant:"filled",severity:"error",sx:{boxShadow:6},children:"sign up failed. please try again."})}),Object(y.jsx)(et,{variant:"h6",component:"h4",children:"Sign Up"}),Object(y.jsx)(tt,{size:"small",label:"username",placeholder:"laura",id:"name-input",variant:"filled",fullWidth:!0,name:"name",value:d.values.name,onChange:d.handleChange,onBlur:d.handleBlur,error:d.touched.name&&Boolean(d.errors.name),helperText:d.touched.name&&d.errors.name}),Object(y.jsx)(tt,{size:"small",label:"email",placeholder:"example@test.com",id:"email-input",variant:"filled",fullWidth:!0,name:"email",value:d.values.email,onChange:d.handleChange,onBlur:d.handleBlur,error:d.touched.email&&Boolean(d.errors.email),helperText:d.touched.email&&d.errors.email}),Object(y.jsx)(tt,{size:"small",label:"password",type:i?"password":"text",id:"password-input",name:"password",value:d.values.password,onChange:d.handleChange,onBlur:d.handleBlur,error:d.touched.password&&Boolean(d.errors.password),helperText:d.touched.password&&d.errors.password,variant:"filled",fullWidth:!0,InputProps:{disableUnderline:!0,endAdornment:Object(y.jsx)(Fe.a,{position:"end",children:Object(y.jsx)(Ue.a,{"aria-label":"toggle password visibility",onClick:s,onMouseDown:c,edge:"end",children:i?Object(y.jsx)(Xe.a,{}):Object(y.jsx)(Ge.a,{})})})}}),Object(y.jsx)(tt,{size:"small",label:"comfirm password",id:"passwordConfirm-input",name:"passwordConfirm",value:d.values.passwordConfirm,onChange:d.handleChange,onBlur:d.handleBlur,error:d.touched.passwordConfirm&&Boolean(d.errors.passwordConfirm),helperText:d.touched.passwordConfirm&&d.errors.passwordConfirm,variant:"filled",fullWidth:!0,type:i?"password":"text",InputProps:{disableUnderline:!0,endAdornment:Object(y.jsx)(Fe.a,{position:"end",children:Object(y.jsx)(Ue.a,{"aria-label":"toggle password visibility",onClick:s,onMouseDown:c,edge:"end",children:i?Object(y.jsx)(Xe.a,{}):Object(y.jsx)(Ge.a,{})})})}}),Object(y.jsx)(at,{onClick:d.handleSubmit,disabled:!l||g,children:"Sign up"})]})})},it=Object(c.a)(d.a,{name:"login-form-container"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{position:"relative",width:"100%",maxWidth:"35rem",backgroundColor:t.palette.common.white,borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"1rem",margin:"0 auto",padding:"3.125rem 4.375rem"})})),ot=Object(c.a)(p.a,{name:"login-title"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{display:"block",backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",backgroundClip:"text",color:"transparent",cursor:"pointer",textTransform:"uppercase"})})),st=Object(c.a)((function(e){return Object(y.jsx)(Ee.a,Object(l.a)({InputProps:{disableUnderline:!0}},e))}))((function(e){var t=e.theme;return{"& .MuiFilledInput-root":{border:"1px solid #e2e2e1",overflow:"hidden",borderRadius:4,backgroundColor:"light"===t.palette.mode?"#fcfcfb":"#2b2b2b",transition:t.transitions.create(["border-color","background-color","box-shadow"]),"&:hover":{backgroundColor:"transparent"},"&.Mui-focused":{backgroundColor:"transparent",boxShadow:"".concat(Object(Ae.a)(t.palette.primary.main,.25)," 0 0 0 2px"),borderColor:t.palette.primary.main}}}})),ct=Object(c.a)(b.a,{name:"login-button"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),Object(l.a)(Object(l.a)({},t.typography.body2),{},{padding:"0.5rem 1rem",backgroundColor:"#55c57a",color:t.palette.common.white,borderRadius:"30rem",transition:"".concat(t.transitions.create(["transform","boxShadow"],{duration:t.transitions.duration.standard})),"&:hover":{backgroundColor:t.palette.success.light,transform:"translateY(-3px)",boxShadow:t.shadows[1]},"&.Mui-disabled":{backgroundColor:t.palette.success.light,transform:"translateY(-3px)",boxShadow:t.shadows[1],opacity:.6,color:t.palette.common.white}}))})),dt=Object(c.a)(b.a,{name:"forget-password-button"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),Object(l.a)(Object(l.a)({},t.typography.body2),{},{color:"#55c57a",textTransform:"lowercase",transition:"".concat(t.transitions.create(["transform"],{duration:t.transitions.duration.standard})),"&:hover":{textDecoration:"underline",transform:"translateY(-3px)"}}))})),lt=Je.a({email:Je.b("Enter your email").email("Enter a valid email").required("Email is required"),password:Je.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),ut=function(){Object(r.useEffect)((function(){document.title="natour | login"}));var e=Object(oe.d)(),t=Object(te.f)(),a=Object(r.useState)(!0),n=Object(se.a)(a,2),i=n[0],o=n[1],s=Object(r.useState)(!0),c=Object(se.a)(s,2),l=c[0],u=c[1],b=Object(r.useState)(!1),p=Object(se.a)(b,2),m=p[0],j=p[1],h=Object(_e.a)({initialValues:{email:"",password:""},validationSchema:lt,onSubmit:function(){j(!0),u(!1)}}),x=h.dirty&&h.isValid,g={email:h.values.email,password:h.values.password},O=U(g,{skip:l}),f=O.data,w=O.isError,v=O.isSuccess;if(w&&(h.errors.email="incorrect email or password",h.errors.password="incorrect email or password",u(!0),j(!1)),v){var k=f.token,C=f.data.user;setTimeout((function(){e(Ze({token:k,user:C})),t.push("/")}),1e3)}return Object(y.jsx)(qe.a,{maxWidth:"sm",sx:{backgroundColor:"#f7f7f7",padding:"3.5rem 1rem",height:"100vh"},children:Object(y.jsxs)(it,{children:[v&&Object(y.jsx)(Me.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:v,children:Object(y.jsx)(Le.a,{variant:"filled",severity:"success",sx:{boxShadow:6},children:"Successfully log in!"})}),w&&Object(y.jsx)(Me.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:w,children:Object(y.jsx)(Le.a,{variant:"filled",severity:"error",sx:{boxShadow:6},children:"log in failed, please try again!"})}),Object(y.jsx)(ot,{variant:"h6",component:"h4",children:"Login"}),Object(y.jsx)(st,{size:"small",label:"email",placeholder:"example@test.com",variant:"filled",fullWidth:!0,id:"email",name:"email",value:h.values.email,onChange:h.handleChange,onBlur:h.handleBlur,error:h.touched.email&&Boolean(h.errors.email),helperText:h.touched.email&&h.errors.email}),Object(y.jsx)(st,{size:"small",label:"password",id:"password-input",name:"password",value:h.values.password,onChange:h.handleChange,onBlur:h.handleBlur,error:h.touched.password&&Boolean(h.errors.password),helperText:h.touched.password&&h.errors.password,variant:"filled",fullWidth:!0,type:i?"password":"text",InputProps:{disableUnderline:!0,endAdornment:Object(y.jsx)(Fe.a,{position:"end",children:Object(y.jsx)(Ue.a,{"aria-label":"toggle password visibility",onClick:function(){o((function(e){return!e}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:i?Object(y.jsx)(Xe.a,{}):Object(y.jsx)(Ge.a,{})})})}}),Object(y.jsxs)(d.a,{sx:{width:"100%",display:"flex",flexDirection:{xs:"column",sm:"row"},gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[Object(y.jsx)(ct,{type:"submit",onClick:h.handleSubmit,disabled:!x||m,children:"Login"}),Object(y.jsx)(dt,{disableRipple:!0,children:"forget password?"})]})]})})},bt=a(18),pt=a(483),mt=a(221),jt=a.n(mt),ht=a(482),xt=a(31),gt=a(153),Ot=a.n(gt),ft=a(154),wt=a.n(ft),vt=a(213),yt=a.n(vt),kt=a(214),Ct=Object(kt.autoPlay)(yt.a),St=Object(c.a)(d.a,{name:"header-image"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{height:250,display:"block",maxWidth:375,overflow:"hidden",width:"100%",margin:"0 auto",cursor:"pointer"}),Object(s.a)(t,a.breakpoints.up("sm"),{height:512,display:"block",maxWidth:768,overflow:"hidden",width:"100%",margin:"0 auto"}),Object(s.a)(t,a.breakpoints.up("md"),{height:653,display:"block",maxWidth:980,overflow:"hidden",width:"100%",margin:"0 auto"}),t})),It=function(e){var t=Object(xt.a)(),a=e.images,r=e.name,i=n.a.useState(0),o=Object(se.a)(i,2),s=o[0],c=o[1],d=a.length;return Object(y.jsxs)(n.a.Fragment,{children:[Object(y.jsx)(Ct,{style:{position:"relative",zIndex:2},axis:"rtl"===t.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){c(e)},enableMouseEvents:!0,children:a.map((function(e,t){return Object(y.jsx)("div",{children:Object(y.jsx)(St,{component:"img",src:"https://www.natours.dev/img/tours/".concat(e),alt:"".concat(r-t,"}")})},e)}))}),Object(y.jsx)(ht.a,{steps:d,activeStep:s,position:"static",sx:{justifyContent:"center",paddingBottom:"calc(100vw * 0.105104)"},nextButton:Object(y.jsxs)(b.a,{size:"small",onClick:function(){c((function(e){return e+1}))},disabled:s===d-1,sx:{display:"none"},children:["Next","rtl"===t.direction?Object(y.jsx)(Ot.a,{}):Object(y.jsx)(wt.a,{})]}),backButton:Object(y.jsxs)(b.a,{size:"small",onClick:function(){c((function(e){return e-1}))},disabled:0===s,sx:{display:"none"},children:["rtl"===t.direction?Object(y.jsx)(wt.a,{}):Object(y.jsx)(Ot.a,{}),"Back"]})})]})},Tt=a(215),Dt=a.n(Tt),Wt=a(216),zt=a.n(Wt),Rt=a(217),Bt=a.n(Rt),Pt=Object(c.a)(d.a,{name:"description-section-container"})((function(e){e.theme;return{width:"100%",overflow:"hidden",marginTop:"calc(100vw * -0.105104 + 2rem)",position:"relative"}})),Yt=Object(c.a)(d.a,{name:"section-background"})((function(e){return{position:"absolute",backgroundColor:e.theme.palette.grey[100],top:0,bottom:"calc(100vw * 0.1051)",left:0,right:0,transform:"skewY(-6deg)",transformOrigin:"top right"}})),At=Object(c.a)(d.a,{name:"description-section-layOut-container"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{position:"relative",width:"100%",maxWidth:"375px",padding:"calc(100vw * 0.1051 + 4rem) 1rem",margin:"0 auto"}),Object(s.a)(t,a.breakpoints.up("sm"),{padding:"calc(100vw * 0.1051 + 3rem) 1.5rem",maxWidth:"768px"}),Object(s.a)(t,a.breakpoints.up("md"),{padding:"calc(100vw * 0.1051 + 4rem) 2rem",maxWidth:"980px"}),t})),Et=Object(c.a)(d.a,{name:"section-layout"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"}),Object(s.a)(t,a.breakpoints.up("sm"),{flexDirection:"row"}),Object(s.a)(t,a.breakpoints.up("md"),{}),t})),qt=Object(c.a)(d.a,{name:"overview-box"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"100%",flexBasis:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"}),Object(s.a)(t,a.breakpoints.up("sm"),{width:"50%",flexBasis:"50%"}),t})),Mt=Object(c.a)(d.a,{name:"Description-box"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"100%",flexBasis:"100%",display:"flex",flexDirection:"column",alignItems:"center",alignSelf:"stretch"}),Object(s.a)(t,a.breakpoints.up("sm"),{width:"50%",flexBasis:"50%"}),t})),Lt=Object(c.a)(p.a,{name:"header-title"})((function(e){e.theme;return{textTransform:"capitalize",backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",backgroundClip:"text",color:"transparent",cursor:"pointer"}})),Ft=Object(c.a)(d.a,{name:"overview-box-list-item"})((function(e){e.theme;return{width:"100%",display:"grid",gridTemplateColumns:"35px 105px 80px",gridTemplateRows:"auto",gap:"2rem",margin:"0 0 1rem 0",cursor:"pointer"}})),Ut=Object(c.a)(d.a,{name:"tour-guide-box"})((function(e){e.theme;return{width:"100%",display:"grid",gridTemplateColumns:"35px 105px 100px",gridTemplateRows:"auto",gap:"2rem",margin:"0 0 1rem 0",alignItems:"center",cursor:"pointer"}})),Ht=Object(c.a)(d.a,{name:"why-stripe-section-top-right-ribbon"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{position:"absolute",zIndex:2,top:0,right:0,left:0,height:"72px",overflow:"hidden",transform:"skewY(-6deg) ",transformOrigin:"top right"})})),Gt=Object(c.a)(d.a,{name:"why-stripe-section-top-right-ribbon-top"})((function(e){e.theme;return{width:"315px",height:"40px",backgroundColor:"#80e9ff",position:"absolute",top:0,right:0}})),Qt=Object(c.a)(d.a,{name:"why-stripe-section-bottom-left-ribbon"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{position:"absolute",zIndex:2,bottom:0,left:0,right:0,height:"72px",overflow:"hidden",transform:"skewY(-6deg) ",transformOrigin:"bottom left"})})),Xt=Object(c.a)(d.a,{name:"why-stripe-section-bottom-left-ribbon-blue"})((function(e){e.theme;return{width:"315px",height:"40px",backgroundColor:"#7a73ff",position:"absolute",bottom:0,left:0}})),_t=Object(c.a)(d.a,{name:"why-stripe-section-bottom-left-ribbon-cyan"})((function(e){e.theme;return{width:"160px",height:"40px",backgroundColor:"#80e9ff",position:"absolute",bottom:0,left:0,transform:"translateY(-24px) translateX(157.5px) translate(-50%,0)"}})),Jt=Object(c.a)(d.a,{name:"why-stripe-section-bottom-left-ribbon-overlay"})((function(e){e.theme;return{width:"160px",height:"16px",backgroundColor:"#0048e5",position:"absolute",bottom:0,left:0,transform:"translateY(-24px) translateX(157.5px) translate(-50%,0)"}})),Nt=Object(c.a)(d.a,{name:"why-stripe-section-top-right-ribbon-Bottom"})((function(e){e.theme;return{width:"160px",height:"40px",backgroundColor:"#7a73ff",position:"absolute",top:0,right:0,transform:"translateY(24px) translateX(-157.5px) translate(50%,0)"}})),Vt=Object(c.a)(d.a,{name:"why-stripe-section-top-right-ribbon-overlay"})((function(e){e.theme;return{width:"160px",height:"16px",backgroundColor:"#0048e5",position:"absolute",top:0,right:0,transform:"translateY(24px) translateX(-157.5px) translate(50%,0)"}})),Zt=function(e){var t=e.startDates,a=e.ratingsAverage,r=e.difficulty,n=e.maxGroupSize,i=e.description,o=e.guides,s=e.name;return Object(y.jsxs)(Pt,{component:"section",children:[Object(y.jsxs)(Ht,{children:[Object(y.jsx)(Gt,{}),Object(y.jsx)(Nt,{}),Object(y.jsx)(Vt,{})]}),Object(y.jsxs)(Qt,{children:[Object(y.jsx)(Xt,{}),Object(y.jsx)(_t,{}),Object(y.jsx)(Jt,{})]}),Object(y.jsx)(Yt,{}),Object(y.jsx)(At,{children:Object(y.jsxs)(Et,{children:[Object(y.jsxs)(qt,{children:[Object(y.jsx)(Lt,{variant:"h6",sx:{mb:"1rem"},children:"quick facts"}),Object(y.jsxs)(Ft,{children:[Object(y.jsx)(j.a,{sx:{fill:"#55c57a",width:"20px",height:"20px"}}),Object(y.jsx)(p.a,{variant:"body2",children:"next date"}),Object(y.jsxs)(p.a,{variant:"body2",color:"grey.600",children:[new Date(t[0]).getMonth()+1," - ",new Date(t[0]).getFullYear()]})]}),Object(y.jsxs)(Ft,{children:[Object(y.jsx)(Dt.a,{sx:{fill:"#55c57a",width:"20px",height:"20px"}}),Object(y.jsx)(p.a,{variant:"body2",children:"Difficulty"}),Object(y.jsx)(p.a,{variant:"body2",color:"grey.600",children:r})]}),Object(y.jsxs)(Ft,{children:[Object(y.jsx)(zt.a,{sx:{fill:"#55c57a",width:"20px",height:"20px"}}),Object(y.jsx)(p.a,{variant:"body2",children:"participants"}),Object(y.jsxs)(p.a,{variant:"body2",color:"grey.600",children:[n," people"]})]}),Object(y.jsxs)(Ft,{children:[Object(y.jsx)(Bt.a,{sx:{fill:"#55c57a",width:"20px",height:"20px"}}),Object(y.jsx)(p.a,{variant:"body2",children:"Rating"}),Object(y.jsxs)(p.a,{variant:"body2",color:"grey.600",children:[a,"/5"]})]}),Object(y.jsx)(Lt,{variant:"h6",sx:{mb:"1rem"},children:"Your tour guides"}),o.map((function(e){return Object(y.jsxs)(Ut,{children:[Object(y.jsx)(ce.a,{src:"https://www.natours.dev/img/users/".concat(e.photo),alt:e.name,sx:{width:"35px",height:"35px"}}),Object(y.jsx)(p.a,{variant:"body2",children:e.role}),Object(y.jsx)(p.a,{variant:"body2",color:"grey.600",children:e.name})]},e.name)}))]}),Object(y.jsxs)(Mt,{children:[Object(y.jsxs)(Lt,{variant:"h6",sx:{mb:"1rem",alignSelf:"flex-start"},children:["about ",s]}),Object(y.jsx)(p.a,{variant:"body2",color:"grey.600",sx:{mb:"1rem"},children:i.split("\n")[0]}),Object(y.jsx)(p.a,{variant:"body2",color:"grey.600",children:i.split("\n")[1]})]})]})})]})},$t=a(156),Kt={transform:"skewY(-6deg)",transformOrigin:"top right",marginTop:"calc(100vw * -0.1052 )"},ea=function(e){var t=e.locations,a=Object(r.useState)({width:"100vw",height:700,latitude:t[0].coordinates[1],longitude:t[0].coordinates[0],zoom:5,bearing:0,pitch:0}),n=Object(se.a)(a,2),i=n[0],o=n[1];return Object(y.jsx)($t.b,Object(l.a)(Object(l.a)({},i),{},{onViewportChange:function(e){return o(e)},mapboxApiAccessToken:"pk.eyJ1IjoiY3JlYXRlYXQyMDIxIiwiYSI6ImNrdDJtbGNyYzA5ZHYzMm50NmU1cDB0MHcifQ.h3ZtUqtwEbg14285ZR-SBQ",style:Kt,mapStyle:"mapbox://styles/mapbox/light-v10",children:t.map((function(e){return Object(y.jsx)($t.a,{longitude:e.coordinates[0],latitude:e.coordinates[1],offsetLeft:-20,offsetTop:-10,children:Object(y.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",gap:"4px"},children:[Object(y.jsx)(x.a,{sx:{fill:"#55c57a"}}),Object(y.jsx)(p.a,{variant:"h6",children:"Day ".concat(e.day)}),Object(y.jsx)(p.a,{variant:"h6",children:e.description})]})},e._id)}))}))},ta=a(484),aa=a(464),ra=a(461),na=Object(c.a)(d.a,{name:"detail-page-comment-section"})((function(e){e.theme;return{width:"100%",position:"relative",overflow:"hidden",zIndex:0,height:"100vh"}})),ia=Object(c.a)(d.a,{name:"section-background"})((function(e){return{position:"absolute",background:e.theme.palette.grey[100],top:0,bottom:"calc(100vw * 0.1051)",left:0,right:0,transform:"skewY(-6deg)",transformOrigin:"top right",zIndex:1}})),oa=Object(c.a)(d.a,{name:"commment-layout-container"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{position:"relative",zIndex:2,width:"100%",maxWidth:"375px",padding:"calc(100vw * 0.1051 + 4rem) 1rem",margin:"0 auto"}),Object(s.a)(t,a.breakpoints.up("sm"),{padding:"calc(100vw * 0.1051 + 3rem) 1.5rem",maxWidth:"768px"}),Object(s.a)(t,a.breakpoints.up("md"),{padding:"calc(100vw * 0.1051 + 4rem) 2rem",maxWidth:"980px"}),t})),sa=Object(c.a)(d.a,{name:"comment-card"})((function(e){var t=e.theme;return{width:"100%",maxWidth:"300px",padding:t.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:t.spacing(4),border:"1px solid ".concat(t.palette.grey[400]),borderRadius:"8px",boxShadow:t.shadows[4]}})),ca=Object(c.a)(d.a,{name:"commmend-card-header"})((function(e){var t=e.theme;return{width:"100%",display:"flex",alignItems:"center",gap:t.spacing(2),color:t.palette.common.black}})),da=Object(c.a)(d.a,{name:"comment-card-body"})((function(e){return{height:"180px",color:e.theme.palette.grey[700],width:"100%",textAlign:"left",lineHeight:"20px",overflow:"hidden"}})),la=Object(c.a)(ta.a,{name:"custom-tab"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{margin:a.spacing(0,1.5)}),Object(s.a)(t,a.breakpoints.up("sm"),{margin:a.spacing(0,2)}),Object(s.a)(t,a.breakpoints.up("md"),{margin:a.spacing(0,2.5)}),t})),ua=function(e){var t=e.rating,a=e.review,r=e.user;return Object(y.jsxs)(sa,{children:[Object(y.jsxs)(ca,{children:[Object(y.jsx)(ce.a,{src:"https://www.natours.dev/img/users/".concat(r.photo),sx:{width:"45px",height:"45px"}}),Object(y.jsx)(p.a,{variant:"body2",children:r.name})]}),Object(y.jsx)(da,{variant:"body2",children:a}),Object(y.jsx)(aa.a,{name:"read-only",value:t,readOnly:!0,precision:.5})]})},ba=function(e){var t=e.id,a=n.a.useState(0),r=Object(se.a)(a,2),i=r[0],o=r[1],s=F(t),c=s.data,d=void 0===c?{}:c,l=s.isLoading;return Object(y.jsx)(n.a.Fragment,{children:l?null:Object(y.jsxs)(na,{component:"section",children:[Object(y.jsxs)(Ht,{children:[Object(y.jsx)(Gt,{}),Object(y.jsx)(Nt,{}),Object(y.jsx)(Vt,{})]}),Object(y.jsxs)(Qt,{children:[Object(y.jsx)(Xt,{}),Object(y.jsx)(_t,{}),Object(y.jsx)(Jt,{})]}),Object(y.jsx)(ia,{}),Object(y.jsx)(oa,{children:Object(y.jsx)(ra.a,{value:i,onChange:function(e,t){o(t)},variant:"scrollable","aria-label":"review-box",children:d.map((function(e){var t=e._id,a=e.rating,r=e.review,n=e.user;return Object(y.jsx)(la,{disableRipple:!0,label:Object(y.jsx)(ua,{rating:a,review:r,user:n})},t)}))})})]})})},pa=a(155),ma=a.n(pa),ja=a(219),ha=a(485),xa=a(220),ga=Object(c.a)(d.a,{name:"call-to-action-section"})((function(e){e.theme;return{width:"100%",position:"relative",overflow:"hidden"}})),Oa=Object(c.a)(d.a,{name:"lay-out-container"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{position:"relative",width:"100%",maxWidth:"375px",padding:"calc(100vw * 0.1051 + 1rem) 1rem",margin:"0 auto"}),Object(s.a)(t,a.breakpoints.up("sm"),{padding:"calc(100vw * 0.1051 + 1.5rem) 1.5rem",maxWidth:"768px"}),Object(s.a)(t,a.breakpoints.up("md"),{padding:"calc(100vw * 0.1051 + 2rem) 2rem",maxWidth:"980px"}),t})),fa=Object(c.a)(d.a,{name:"section-layout"})((function(e){e.theme;return{display:"flex",justifyContent:"center",alignItems:"center"}})),wa=Object(c.a)(d.a,{name:"cta-card"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"100%",maxWidth:"400px",padding:a.spacing(5,2),border:"1px solid ".concat(a.palette.grey[400]),borderRadius:"8px",boxShadow:a.shadows[2],display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"2rem"}),Object(s.a)(t,a.breakpoints.up("sm"),{flexDirection:"row",maxWidth:"768px"}),t})),va=Object(c.a)(p.a,{name:"gradient-text"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),{display:"block",backgroundImage:"linear-gradient(to right, #7dd56f, #28b487)",backgroundClip:"text",color:"transparent",cursor:"pointer",textTransform:"uppercase"})})),ya=Object(c.a)(b.a,{name:"detail-page-book-button"})((function(e){var t=e.theme;return Object(s.a)({},t.breakpoints.up("xs"),Object(l.a)(Object(l.a)({},t.typography.subtitle1),{},{padding:"0.75rem 3rem",backgroundColor:"#55c57a",whiteSpace:"nowrap",color:t.palette.common.white,borderRadius:"30rem",transition:"".concat(t.transitions.create(["transform","boxShadow"],{duration:t.transitions.duration.standard})),"&:hover":{backgroundColor:t.palette.success.light,transform:"translateY(-3px)",boxShadow:t.shadows[1]},"&.Mui-disabled":{opacity:.6,color:t.palette.common.white}}))})),ka=function(e){var t=e.duration,a={id:e.tourId,token:Object(oe.e)((function(e){return e.auth})).token},r=G(),n=Object(se.a)(r,2),i=n[0],o=n[1],s=o.data,c=o.isLoading,l=o.isSuccess,u=o.isError;l&&function(){var e=Object(ja.a)(ma.a.mark((function e(t){return ma.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xa.a)("pk_live_51JRWEFGvz0s98aRD1omoLobgRQSvHCbwvBxghuSAAZlXOE5ddwHa89hqBvvlA86q3dpEiLLFd5NHwyd1VxSgrgz3000HGjhhrx");case 2:e.sent.redirectToCheckout({sessionId:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s.session.id);return Object(y.jsxs)(ga,{component:"section",children:[l&&Object(y.jsx)(Me.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:l,children:Object(y.jsx)(Le.a,{variant:"filled",severity:"success",sx:{boxShadow:6},children:"redirct to check out..."})}),u&&Object(y.jsx)(Me.a,{anchorOrigin:{horizontal:"center",vertical:"top"},open:u,children:Object(y.jsx)(Le.a,{variant:"filled",severity:"error",sx:{boxShadow:6},children:"please login before booking tour."})}),Object(y.jsx)(Oa,{children:Object(y.jsx)(fa,{children:Object(y.jsxs)(wa,{children:[Object(y.jsxs)(ha.a,{max:3,spacing:"medium",children:[Object(y.jsx)(ce.a,{alt:"logo",sx:{backgroundColor:"transparent"},children:Object(y.jsx)(Re,{sx:{width:"39px",height:"20px",margin:0}})}),Object(y.jsx)(ce.a,{alt:"tour-image-1",src:"/tour-2-2.jpg"}),Object(y.jsx)(ce.a,{alt:"tour-image-2",src:"/tour-2-3.jpg"})]}),Object(y.jsxs)(d.a,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[Object(y.jsx)(va,{variant:"body1",component:"h6",children:"what are you waiting for ?"}),Object(y.jsxs)(p.a,{variant:"body1",color:"grey.500",children:[t," days. 1 adventure. ",Object(y.jsx)("br",{}),"Infinite memories.",Object(y.jsx)("br",{})," Make it yours today!"]})]}),Object(y.jsx)(ya,{onClick:function(){i(a)},disabled:c,children:c?"processing":"book Tour"})]})})})]})},Ca=Object(c.a)(d.a,{name:"detail-page-container"})((function(e){e.theme;return{width:"100%",overflow:"hidden"}})),Sa=Object(c.a)(d.a,{name:"detail-page-header"})((function(e){e.theme;return{width:"100%",position:"relative",zIndex:0,overflow:"hidden"}})),Ia=Object(c.a)(d.a,{name:"detail-page-header-copy-container"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"87.5%",margin:"0 auto",padding:"1rem",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",gap:"1rem"}),Object(s.a)(t,a.breakpoints.up("sm"),{padding:"2rem",width:"100%",maxWidth:"450px"}),t})),Ta=Object(c.a)(p.a,{name:"header-title"})((function(e){return{color:e.theme.palette.common.black,cursor:"pointer",whiteSpace:"nowrap"}})),Da=Object(c.a)(d.a,{name:"detail-page-copy-subtitle"})((function(e){var t,a=e.theme;return t={},Object(s.a)(t,a.breakpoints.up("xs"),{width:"100%",maxWidth:"18.75rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"}),Object(s.a)(t,a.breakpoints.up("sm"),{width:"58.33333%"}),t})),Wa=function(){var e=Object(te.g)().detail;Object(r.useEffect)((function(){document.title="natour | ".concat(e)}));var t=L(void 0,{selectFromResult:function(t){var a=t.data;return{data:null===a||void 0===a?void 0:a.find((function(t){return t.slug===e}))}}}).data;if(void 0===t)return Object(y.jsx)(pt.a,{});var a=t._id,n=t.name,i=t.duration,o=t.startLocation,s=t.imageCover,c=t.images,l=t.startDates,u=t.ratingsAverage,b=t.difficulty,p=t.maxGroupSize,m=t.description,j=t.guides,h=t.locations;return Object(y.jsxs)(Ca,{component:"main",children:[Object(y.jsxs)(Ia,{children:[Object(y.jsx)(Ta,{component:"h4",variant:"h6",children:n}),Object(y.jsxs)(Da,{children:[Object(y.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",gap:"6px"},children:[Object(y.jsx)(jt.a,{sx:{fill:"#55c57a"}}),Object(y.jsxs)(Ta,{variant:"body1",children:[i," days"]})]}),Object(y.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",gap:"6px"},children:[Object(y.jsx)(x.a,{sx:{fill:"#55c57a"}}),Object(y.jsx)(Ta,{variant:"body1",children:o.description})]})]})]}),Object(y.jsx)(Sa,{component:"section",children:Object(y.jsx)(It,{images:[s].concat(Object(bt.a)(c)),name:n})}),Object(y.jsx)(Zt,{startDates:l,ratingsAverage:u,difficulty:b,maxGroupSize:p,description:m,guides:j,name:n}),Object(y.jsx)(ea,{locations:h}),Object(y.jsx)(ba,{id:a}),Object(y.jsx)(ka,{duration:i,tourId:a})]})};var za,Ra=function(){return Object(y.jsxs)(v.a,{children:[Object(y.jsx)(Ye,{}),Object(y.jsxs)(te.c,{children:[Object(y.jsx)(te.a,{exact:!0,path:"/signup",children:Object(y.jsx)(nt,{})}),Object(y.jsx)(te.a,{exact:!0,path:"/login",children:Object(y.jsx)(ut,{})}),Object(y.jsx)(te.a,{exact:!0,path:"/:detail",children:Object(y.jsx)(Wa,{})}),Object(y.jsx)(te.a,{path:"/",children:Object(y.jsx)(ee,{})})]})]})},Ba=a(467),Pa=a(222),Ya=a(458),Aa=Object(Pa.a)({breakpoints:{values:{xs:0,sm:776,md:980,lg:1280,xl:1640}}}),Ea=Aa=Object(Ya.a)(Aa),qa=Object(Ne.a)({reducer:(za={},Object(s.a)(za,M.reducerPath,M.reducer),Object(s.a)(za,"auth",$e),za),middleware:function(e){return e().concat(M.middleware)}});Object(q.e)(qa.dispatch),o.a.render(Object(y.jsx)(oe.a,{store:qa,children:Object(y.jsxs)(Ba.a,{theme:Ea,children:[Object(y.jsx)(re.a,{}),Object(y.jsx)(Ra,{})]})}),document.getElementById("root"))}},[[403,1,2]]]);
//# sourceMappingURL=main.4df689f3.chunk.js.map